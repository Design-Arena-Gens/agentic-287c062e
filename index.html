<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Wave Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background: linear-gradient(to bottom, #87CEEB 0%, #E0F6FF 100%);
        }

        #canvas {
            display: block;
            width: 100vw;
            height: 100vh;
        }

        .controls {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            min-width: 280px;
            z-index: 100;
        }

        .controls h1 {
            font-size: 20px;
            margin-bottom: 20px;
            color: #2c3e50;
            text-align: center;
            font-weight: 600;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group label {
            display: block;
            margin-bottom: 8px;
            color: #34495e;
            font-size: 13px;
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-group input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 5px;
            background: linear-gradient(to right, #3498db, #2980b9);
            outline: none;
            -webkit-appearance: none;
        }

        .control-group input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid #3498db;
        }

        .control-group input[type="range"]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #fff;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid #3498db;
        }

        .value-display {
            background: #ecf0f1;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
            color: #2c3e50;
            font-weight: 600;
            min-width: 45px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .controls {
                top: 10px;
                right: 10px;
                left: 10px;
                padding: 20px;
                min-width: unset;
            }
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <div class="controls">
        <h1>ðŸŒŠ Ocean Wave Simulation</h1>

        <div class="control-group">
            <label>
                <span>Wind Speed</span>
                <span class="value-display" id="windValue">15</span>
            </label>
            <input type="range" id="windSpeed" min="0" max="30" value="15" step="1">
        </div>

        <div class="control-group">
            <label>
                <span>Wave Height</span>
                <span class="value-display" id="heightValue">40</span>
            </label>
            <input type="range" id="waveHeight" min="10" max="100" value="40" step="5">
        </div>

        <div class="control-group">
            <label>
                <span>Lighting</span>
                <span class="value-display" id="lightValue">70%</span>
            </label>
            <input type="range" id="lighting" min="30" max="100" value="70" step="5">
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        // Set canvas size
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Wave parameters
        let windSpeed = 15;
        let waveHeight = 40;
        let lighting = 0.7;
        let time = 0;

        // Wave layers for depth
        const waveLayers = [
            { amplitude: 1.0, frequency: 0.015, speed: 0.02, offset: 0, color: '#1e5f8f', alpha: 0.3 },
            { amplitude: 0.8, frequency: 0.02, speed: 0.025, offset: 100, color: '#2471a3', alpha: 0.4 },
            { amplitude: 1.2, frequency: 0.012, speed: 0.018, offset: 200, color: '#2980b9', alpha: 0.5 },
            { amplitude: 0.9, frequency: 0.018, speed: 0.022, offset: 300, color: '#3498db', alpha: 0.6 },
            { amplitude: 1.1, frequency: 0.014, speed: 0.02, offset: 400, color: '#5dade2', alpha: 0.7 }
        ];

        // Sun/lighting properties
        let sunX = 0;
        let sunY = 0;

        function drawSky() {
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height * 0.6);
            const lightFactor = lighting;

            gradient.addColorStop(0, `rgba(135, 206, 235, ${lightFactor})`);
            gradient.addColorStop(0.5, `rgba(176, 224, 230, ${lightFactor * 0.9})`);
            gradient.addColorStop(1, `rgba(224, 246, 255, ${lightFactor * 0.8})`);

            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height * 0.6);
        }

        function drawSun() {
            sunX = canvas.width * 0.8;
            sunY = canvas.height * 0.2;

            const sunRadius = 40 * lighting;
            const gradient = ctx.createRadialGradient(sunX, sunY, 0, sunX, sunY, sunRadius * 2);

            gradient.addColorStop(0, `rgba(255, 253, 150, ${lighting})`);
            gradient.addColorStop(0.3, `rgba(255, 243, 100, ${lighting * 0.6})`);
            gradient.addColorStop(0.6, `rgba(255, 223, 100, ${lighting * 0.3})`);
            gradient.addColorStop(1, `rgba(255, 223, 100, 0)`);

            ctx.fillStyle = gradient;
            ctx.beginPath();
            ctx.arc(sunX, sunY, sunRadius * 2, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = `rgba(255, 253, 150, ${lighting})`;
            ctx.beginPath();
            ctx.arc(sunX, sunY, sunRadius, 0, Math.PI * 2);
            ctx.fill();
        }

        function drawWave(layer, baseY) {
            const points = [];
            const windFactor = windSpeed / 15;
            const heightFactor = waveHeight / 40;

            ctx.beginPath();

            for (let x = 0; x <= canvas.width; x += 3) {
                let y = baseY;

                // Multiple sine waves for realistic motion
                y += Math.sin((x * layer.frequency) + (time * layer.speed * windFactor))
                    * layer.amplitude * waveHeight * heightFactor;
                y += Math.sin((x * layer.frequency * 1.5) + (time * layer.speed * windFactor * 1.3) + layer.offset)
                    * layer.amplitude * waveHeight * 0.5 * heightFactor;
                y += Math.cos((x * layer.frequency * 0.8) + (time * layer.speed * windFactor * 0.8) + layer.offset * 0.5)
                    * layer.amplitude * waveHeight * 0.3 * heightFactor;

                points.push({ x, y });

                if (x === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            }

            // Complete the shape
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(0, canvas.height);
            ctx.closePath();

            // Create gradient for wave color
            const gradient = ctx.createLinearGradient(0, baseY - waveHeight, 0, canvas.height);
            const baseColor = hexToRgb(layer.color);
            const lightIntensity = lighting;

            gradient.addColorStop(0, `rgba(${baseColor.r + 30 * lightIntensity}, ${baseColor.g + 30 * lightIntensity}, ${baseColor.b + 50 * lightIntensity}, ${layer.alpha})`);
            gradient.addColorStop(0.5, `rgba(${baseColor.r + 10 * lightIntensity}, ${baseColor.g + 10 * lightIntensity}, ${baseColor.b + 20 * lightIntensity}, ${layer.alpha})`);
            gradient.addColorStop(1, `rgba(${baseColor.r}, ${baseColor.g}, ${baseColor.b}, ${layer.alpha})`);

            ctx.fillStyle = gradient;
            ctx.fill();

            // Add highlights on wave crests
            if (lighting > 0.5) {
                ctx.strokeStyle = `rgba(255, 255, 255, ${(lighting - 0.5) * 0.4})`;
                ctx.lineWidth = 2;
                ctx.beginPath();

                points.forEach((point, i) => {
                    if (i === 0) {
                        ctx.moveTo(point.x, point.y);
                    } else {
                        const prevPoint = points[i - 1];
                        if (point.y < prevPoint.y && i < points.length - 1 && point.y < points[i + 1].y) {
                            ctx.lineTo(point.x, point.y);
                        }
                    }
                });

                ctx.stroke();
            }
        }

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : { r: 0, g: 0, b: 0 };
        }

        function drawFoam() {
            const windFactor = windSpeed / 15;
            const particles = 30 * windFactor;

            for (let i = 0; i < particles; i++) {
                const x = (time * 50 * windFactor + i * 30) % (canvas.width + 100);
                const baseY = canvas.height * 0.55;
                const y = baseY + Math.sin(x * 0.02 + time * 0.5) * 20;

                ctx.fillStyle = `rgba(255, 255, 255, ${0.3 + Math.sin(time + i) * 0.2})`;
                ctx.beginPath();
                ctx.arc(x, y, 2 + Math.random() * 2, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            drawSky();
            drawSun();

            const baseY = canvas.height * 0.55;

            waveLayers.forEach(layer => {
                drawWave(layer, baseY);
            });

            drawFoam();

            time += 0.016;
            requestAnimationFrame(animate);
        }

        // Control handlers
        document.getElementById('windSpeed').addEventListener('input', (e) => {
            windSpeed = parseFloat(e.target.value);
            document.getElementById('windValue').textContent = Math.round(windSpeed);
        });

        document.getElementById('waveHeight').addEventListener('input', (e) => {
            waveHeight = parseFloat(e.target.value);
            document.getElementById('heightValue').textContent = Math.round(waveHeight);
        });

        document.getElementById('lighting').addEventListener('input', (e) => {
            lighting = parseFloat(e.target.value) / 100;
            document.getElementById('lightValue').textContent = e.target.value + '%';
        });

        // Start animation
        animate();
    </script>
</body>
</html>
